module ConnectRequest = Packetv1405_ConnectRequest
module Disconnect = Packet_Disconnect
module PlayerSlotSet = Packet_PlayerSlotSet
module PlayerInfo = Packet_PlayerInfo
module PlayerInventorySlot = Packet_PlayerInventorySlot
module WorldDataRequest = Packet_WorldDataRequest
module WorldInfo = Packet_WorldInfo
module InitialTileSectionsRequest = Packet_InitialTileSectionsRequest
module Status = Packet_Status
module TileSectionSend = Packet_TileSectionSend
module TileSectionFrame = Packet_TileSectionFrame
module PlayerSpawn = Packet_PlayerSpawn
module PlayerUpdate = Packet_PlayerUpdate
module PlayerActive = Packet_PlayerActive
module PlayerHealth = Packet_PlayerHealth
module TileModify = Packet_TileModify
module TimeSet = Packet_TimeSet
module DoorUse = Packet_DoorUse
module TileSquareSend = Packetv1405_TileSquareSend
module ItemDropUpdate = Packet_ItemDropUpdate
module ItemOwner = Packet_ItemOwner
module NpcUpdate = Packet_NpcUpdate
module NpcItemStrike = Packet_NpcItemStrike
module ProjectileSync = Packetv1405_ProjectileSync
module NpcStrike = Packet_NpcStrike
module ProjectileDestroy = Packet_ProjectileDestroy
module PvpToggle = Packet_PvpToggle
module ChestOpen = Packet_ChestOpen
module ChestItem = Packet_ChestItem
module ActiveContainerSync = Packet_ActiveContainerSync
module ChestPlace = Packet_ChestPlace
module HealEffect = Packet_HealEffect
module Zones = Packet_Zones
module PasswordRequired = Packet_PasswordRequired
module PasswordSend = Packet_PasswordSend
module ItemOwnerRemove = Packet_ItemOwnerRemove
module NpcTalk = Packet_NpcTalk
module PlayerAnimation = Packet_PlayerAnimation
module PlayerMana = Packet_PlayerMana
module ManaEffect = Packet_ManaEffect
module PlayerTeam = Packet_PlayerTeam
module SignRead = Packet_SignRead
module SignNew = Packet_SignNew
module LiquidSet = Packet_LiquidSet
module PlayerSpawnSelf = Packet_PlayerSpawnSelf
module PlayerBuffsSet = Packet_PlayerBuffsSet
module NpcSpecialEffect = Packet_NpcSpecialEffect
module ChestUnlock = Packet_ChestUnlock
module NpcBuffAdd = Packet_NpcBuffAdd
module NpcBuffUpdate = Packet_NpcBuffUpdate
module PlayerBuffAdd = Packet_PlayerBuffAdd
module NpcNameUpdate = Packet_NpcNameUpdate
module GoodEvilUpdate = Packet_GoodEvilUpdate
module HarpPlay = Packet_HarpPlay
module SwitchHit = Packet_SwitchHit
module NpcHomeUpdate = Packet_NpcHomeUpdate
module BossOrInvasionSpawn = Packet_BossOrInvasionSpawn
module PlayerDodge = Packet_PlayerDodge
module PaintTile = Packet_PaintTile
module PaintWall = Packet_PaintWall
module Teleport = Packet_Teleport
module PlayerHealOther = Packet_PlayerHealOther
module DimensionsUpdate = Packet_DimensionsUpdate
module ClientUuid = Packet_ClientUuid
module ChestName = Packet_ChestName
module CatchNpc = Packet_CatchNpc
module ReleaseNpc = Packet_ReleaseNpc
module TravellingMerchantInventory = Packet_TravellingMerchantInventory
module TeleportationPotion = Packet_TeleportationPotion
module AnglerQuest = Packet_AnglerQuest
module AnglerQuestComplete = Packet_AnglerQuestComplete
module AnglerQuestsCompletedAmount = Packet_AnglerQuestsCompletedAmount
module TemporaryAnimationCreate = Packet_TemporaryAnimationCreate
module InvasionProgressReport = Packet_InvasionProgressReport
module ObjectPlace = Packet_ObjectPlace
module PlayerChestIndexSync = Packet_PlayerChestIndexSync
module CombatNumberCreate = Packet_CombatNumberCreate
module NetModuleLoad = Packet_NetModuleLoad
module NpcKillCount = Packet_NpcKillCount
module PlayerStealth = Packet_PlayerStealth
module ItemForceIntoNearestChest = Packet_ItemForceIntoNearestChest
module TileEntityUpdate = Packet_TileEntityUpdate
module TileEntityPlace = Packet_TileEntityPlace
module ItemDropModify = Packet_ItemDropModify
module ItemFramePlace = Packet_ItemFramePlace
module ItemDropInstancedUpdate = Packet_ItemDropInstancedUpdate
module EmoteBubble = Packet_EmoteBubble
module ExtraValueSync = Packet_ExtraValueSync
module SocialHandshake = Packet_SocialHandshake
module Unused = Packet_Unused
module PortalKill = Packet_PortalKill
module PlayerTeleportPortal = Packet_PlayerTeleportPortal
module NpcKilledNotification = Packet_NpcKilledNotification
module EventNotification = Packet_EventNotification
module MinionTargetUpdate = Packet_MinionTargetUpdate
module NpcTeleportPortal = Packet_NpcTeleportPortal
module ShieldStrengthsUpdate = Packet_ShieldStrengthsUpdate
module NebulaLevelUp = Packet_NebulaLevelUp
module MoonLordCountdown = Packet_MoonLordCountdown
module NpcShopItem = Packet_NpcShopItem
module GemLockToggle = Packet_GemLockToggle
module SmokePoof = Packet_SmokePoof
module ChatMessageSmart = Packet_ChatMessageSmart
module WiredCannonShot = Packet_WiredCannonShot
module MassWireOperation = Packet_MassWireOperation
module MassWireOperationPay = Packet_MassWireOperationPay
module PartyToggle = Packet_PartyToggle
module TreeGrowFx = Packet_TreeGrowFx
module CrystalInvasionStart = Packet_CrystalInvasionStart
module CrystalInvasionWipeAll = Packet_CrystalInvasionWipeAll
module MinionAttackTargetUpdate = Packet_MinionAttackTargetUpdate
module CrystalInvasionSendWaitTime = Packet_CrystalInvasionSendWaitTime
module PlayerDamage = Packet_PlayerDamage
module PlayerDeath = Packet_PlayerDeath
module CombatTextCreate = Packet_CombatTextCreate
module Emoji = Packet_Emoji
module TileEntityDisplayDollItemSync = Packet_TileEntityDisplayDollItemSync
module TileEntityInteractionRequest = Packet_TileEntityInteractionRequest
module WeaponsRackTryPlacing = Packet_WeaponsRackTryPlacing
module TileEntityHatRackItemSync = Packet_TileEntityHatRackItemSync
module TilePickingSync = Packet_TilePickingSync
module RevengeMarkerSync = Packet_RevengeMarkerSync
module RevengeMarkerRemove = Packet_RevengeMarkerRemove
module GolfBallLandInCup = Packet_GolfBallLandInCup
module ClientFinishConnectingToServer = Packet_ClientFinishConnectingToServer
module NpcFishOut = Packet_NpcFishOut
module NpcTamper = Packet_NpcTamper
module LegacySoundPlay = Packet_LegacySoundPlay
module FoodPlatterTryPlacing = Packet_FoodPlatterTryPlacing
module PlayerLuckFactorsUpdate = Packet_PlayerLuckFactorsUpdate
module PlayerDead = Packet_PlayerDead
module CavernMonsterTypeSync = Packet_CavernMonsterTypeSync
module NpcBuffRemovalRequest = Packet_NpcBuffRemovalRequest
module ClientSyncedInventory = Packet_ClientSyncedInventory
module CountsAsHostForGameplaySet = Packet_CountsAsHostForGameplaySet

type t =
  | ConnectRequest(ConnectRequest.t)
  | Disconnect(Disconnect.t)
  | PlayerSlotSet(PlayerSlotSet.t)
  | PlayerInfo(PlayerInfo.t)
  | PlayerInventorySlot(PlayerInventorySlot.t)
  | WorldDataRequest(WorldDataRequest.t)
  | WorldInfo(WorldInfo.t)
  | InitialTileSectionsRequest(InitialTileSectionsRequest.t)
  | Status(Status.t)
  | TileSectionSend(TileSectionSend.t)
  | TileSectionFrame(TileSectionFrame.t)
  | PlayerSpawn(PlayerSpawn.t)
  | PlayerUpdate(PlayerUpdate.t)
  | PlayerActive(PlayerActive.t)
  | PlayerHealth(PlayerHealth.t)
  | TileModify(TileModify.t)
  | TimeSet(TimeSet.t)
  | DoorUse(DoorUse.t)
  | TileSquareSend(TileSquareSend.t)
  | ItemDropUpdate(ItemDropUpdate.t)
  | ItemOwner(ItemOwner.t)
  | NpcUpdate(NpcUpdate.t)
  | NpcItemStrike(NpcItemStrike.t)
  | ProjectileSync(ProjectileSync.t)
  | NpcStrike(NpcStrike.t)
  | ProjectileDestroy(ProjectileDestroy.t)
  | PvpToggle(PvpToggle.t)
  | ChestOpen(ChestOpen.t)
  | ChestItem(ChestItem.t)
  | ActiveContainerSync(ActiveContainerSync.t)
  | ChestPlace(ChestPlace.t)
  | HealEffect(HealEffect.t)
  | Zones(Zones.t)
  | PasswordRequired(PasswordRequired.t)
  | PasswordSend(PasswordSend.t)
  | ItemOwnerRemove(ItemOwnerRemove.t)
  | NpcTalk(NpcTalk.t)
  | PlayerAnimation(PlayerAnimation.t)
  | PlayerMana(PlayerMana.t)
  | ManaEffect(ManaEffect.t)
  | PlayerTeam(PlayerTeam.t)
  | SignRead(SignRead.t)
  | SignNew(SignNew.t)
  | LiquidSet(LiquidSet.t)
  | PlayerSpawnSelf(PlayerSpawnSelf.t)
  | PlayerBuffsSet(PlayerBuffsSet.t)
  | NpcSpecialEffect(NpcSpecialEffect.t)
  | ChestUnlock(ChestUnlock.t)
  | NpcBuffAdd(NpcBuffAdd.t)
  | NpcBuffUpdate(NpcBuffUpdate.t)
  | PlayerBuffAdd(PlayerBuffAdd.t)
  | NpcNameUpdate(NpcNameUpdate.t)
  | GoodEvilUpdate(GoodEvilUpdate.t)
  | HarpPlay(HarpPlay.t)
  | SwitchHit(SwitchHit.t)
  | NpcHomeUpdate(NpcHomeUpdate.t)
  | BossOrInvasionSpawn(BossOrInvasionSpawn.t)
  | PlayerDodge(PlayerDodge.t)
  | PaintTile(PaintTile.t)
  | PaintWall(PaintWall.t)
  | Teleport(Teleport.t)
  | PlayerHealOther(PlayerHealOther.t)
  | DimensionsUpdate(DimensionsUpdate.t)
  | ClientUuid(ClientUuid.t)
  | ChestName(ChestName.t)
  | CatchNpc(CatchNpc.t)
  | ReleaseNpc(ReleaseNpc.t)
  | TravellingMerchantInventory(TravellingMerchantInventory.t)
  | TeleportationPotion(TeleportationPotion.t)
  | AnglerQuest(AnglerQuest.t)
  | AnglerQuestComplete(AnglerQuestComplete.t)
  | AnglerQuestsCompletedAmount(AnglerQuestsCompletedAmount.t)
  | TemporaryAnimationCreate(TemporaryAnimationCreate.t)
  | InvasionProgressReport(InvasionProgressReport.t)
  | ObjectPlace(ObjectPlace.t)
  | PlayerChestIndexSync(PlayerChestIndexSync.t)
  | CombatNumberCreate(CombatNumberCreate.t)
  | NetModuleLoad(NetModuleLoad.t)
  | NpcKillCount(NpcKillCount.t)
  | PlayerStealth(PlayerStealth.t)
  | ItemForceIntoNearestChest(ItemForceIntoNearestChest.t)
  | TileEntityUpdate(TileEntityUpdate.t)
  | TileEntityPlace(TileEntityPlace.t)
  | ItemDropModify(ItemDropModify.t)
  | ItemFramePlace(ItemFramePlace.t)
  | ItemDropInstancedUpdate(ItemDropInstancedUpdate.t)
  | EmoteBubble(EmoteBubble.t)
  | ExtraValueSync(ExtraValueSync.t)
  | SocialHandshake(SocialHandshake.t)
  | Unused(Unused.t)
  | PortalKill(PortalKill.t)
  | PlayerTeleportPortal(PlayerTeleportPortal.t)
  | NpcKilledNotification(NpcKilledNotification.t)
  | EventNotification(EventNotification.t)
  | MinionTargetUpdate(MinionTargetUpdate.t)
  | NpcTeleportPortal(NpcTeleportPortal.t)
  | ShieldStrengthsUpdate(ShieldStrengthsUpdate.t)
  | NebulaLevelUp(NebulaLevelUp.t)
  | MoonLordCountdown(MoonLordCountdown.t)
  | NpcShopItem(NpcShopItem.t)
  | GemLockToggle(GemLockToggle.t)
  | SmokePoof(SmokePoof.t)
  | ChatMessageSmart(ChatMessageSmart.t)
  | WiredCannonShot(WiredCannonShot.t)
  | MassWireOperation(MassWireOperation.t)
  | MassWireOperationPay(MassWireOperationPay.t)
  | PartyToggle(PartyToggle.t)
  | TreeGrowFx(TreeGrowFx.t)
  | CrystalInvasionStart(CrystalInvasionStart.t)
  | CrystalInvasionWipeAll(CrystalInvasionWipeAll.t)
  | MinionAttackTargetUpdate(MinionAttackTargetUpdate.t)
  | CrystalInvasionSendWaitTime(CrystalInvasionSendWaitTime.t)
  | PlayerDamage(PlayerDamage.t)
  | PlayerDeath(PlayerDeath.t)
  | CombatTextCreate(CombatTextCreate.t)
  | Emoji(Emoji.t)
  | TileEntityDisplayDollItemSync(TileEntityDisplayDollItemSync.t)
  | TileEntityInteractionRequest(TileEntityInteractionRequest.t)
  | WeaponsRackTryPlacing(WeaponsRackTryPlacing.t)
  | TileEntityHatRackItemSync(TileEntityHatRackItemSync.t)
  | TilePickingSync(TilePickingSync.t)
  | RevengeMarkerSync(RevengeMarkerSync.t)
  | RevengeMarkerRemove(RevengeMarkerRemove.t)
  | GolfBallLandInCup(GolfBallLandInCup.t)
  | ClientFinishConnectingToServer(ClientFinishConnectingToServer.t)
  | NpcFishOut(NpcFishOut.t)
  | NpcTamper(NpcTamper.t)
  | LegacySoundPlay(LegacySoundPlay.t)
  | FoodPlatterTryPlacing(FoodPlatterTryPlacing.t)
  | PlayerLuckFactorsUpdate(PlayerLuckFactorsUpdate.t)
  | PlayerDead(PlayerDead.t)
  | CavernMonsterTypeSync(CavernMonsterTypeSync.t)
  | NpcBuffRemovalRequest(NpcBuffRemovalRequest.t)
  | ClientSyncedInventory(ClientSyncedInventory.t)
  | CountsAsHostForGameplaySet(CountsAsHostForGameplaySet.t)

let convertToLatest = (packet: t, fromServer: bool): Packet.t => {
  switch packet {
  | ConnectRequest(connectRequest) => Packet.ConnectRequest(connectRequest)
  | Disconnect(disconnect) => Packet.Disconnect(disconnect)
  | PlayerSlotSet(playerSlotSet) => Packet.PlayerSlotSet(playerSlotSet)
  | PlayerInfo(playerInfo) => Packet.PlayerInfo(playerInfo)
  | PlayerInventorySlot(playerInventorySlot) => Packet.PlayerInventorySlot(playerInventorySlot)
  | WorldDataRequest(worldDataRequest) => Packet.WorldDataRequest(worldDataRequest)
  | WorldInfo(worldInfo) => Packet.WorldInfo(worldInfo)
  | InitialTileSectionsRequest(initialTileSectionsRequest) => Packet.InitialTileSectionsRequest(initialTileSectionsRequest)
  | Status(status) => Packet.Status(status)
  | TileSectionSend(tileSectionSend) => Packet.TileSectionSend(tileSectionSend)
  | TileSectionFrame(tileSectionFrame) => Packet.TileSectionFrame(tileSectionFrame)
  | PlayerSpawn(playerSpawn) => Packet.PlayerSpawn(playerSpawn)
  | PlayerUpdate(playerUpdate) => Packet.PlayerUpdate(playerUpdate)
  | PlayerActive(playerActive) => Packet.PlayerActive(playerActive)
  | PlayerHealth(playerHealth) => Packet.PlayerHealth(playerHealth)
  | TileModify(tileModify) => Packet.TileModify(tileModify)
  | TimeSet(timeSet) => Packet.TimeSet(timeSet)
  | DoorUse(doorUse) => Packet.DoorUse(doorUse)
  | TileSquareSend(tileSquareSend) => Packet.TileSquareSend(tileSquareSend->TileSquareSend.toLatest)
  | ItemDropUpdate(itemDropUpdate) => Packet.ItemDropUpdate(itemDropUpdate)
  | ItemOwner(itemOwner) => Packet.ItemOwner(itemOwner)
  | NpcUpdate(npcUpdate) => Packet.NpcUpdate(npcUpdate)
  | NpcItemStrike(npcItemStrike) => Packet.NpcItemStrike(npcItemStrike)
  | ProjectileSync(projectileSync) => Packet.ProjectileSync(projectileSync)
  | NpcStrike(npcStrike) => Packet.NpcStrike(npcStrike)
  | ProjectileDestroy(projectileDestroy) => Packet.ProjectileDestroy(projectileDestroy)
  | PvpToggle(pvpToggle) => Packet.PvpToggle(pvpToggle)
  | ChestOpen(chestOpen) => Packet.ChestOpen(chestOpen)
  | ChestItem(chestItem) => Packet.ChestItem(chestItem)
  | ActiveContainerSync(activeContainerSync) => Packet.ActiveContainerSync(activeContainerSync)
  | ChestPlace(chestPlace) => Packet.ChestPlace(chestPlace)
  | HealEffect(healEffect) => Packet.HealEffect(healEffect)
  | Zones(zones) => Packet.Zones(zones)
  | PasswordRequired(passwordRequired) => Packet.PasswordRequired(passwordRequired)
  | PasswordSend(passwordSend) => Packet.PasswordSend(passwordSend)
  | ItemOwnerRemove(itemOwnerRemove) => Packet.ItemOwnerRemove(itemOwnerRemove)
  | NpcTalk(npcTalk) => Packet.NpcTalk(npcTalk)
  | PlayerAnimation(playerAnimation) => Packet.PlayerAnimation(playerAnimation)
  | PlayerMana(playerMana) => Packet.PlayerMana(playerMana)
  | ManaEffect(manaEffect) => Packet.ManaEffect(manaEffect)
  | PlayerTeam(playerTeam) => Packet.PlayerTeam(playerTeam)
  | SignRead(signRead) => Packet.SignRead(signRead)
  | SignNew(signNew) => Packet.SignNew(signNew)
  | LiquidSet(liquidSet) => Packet.LiquidSet(liquidSet)
  | PlayerSpawnSelf(playerSpawnSelf) => Packet.PlayerSpawnSelf(playerSpawnSelf)
  | PlayerBuffsSet(playerBuffsSet) => Packet.PlayerBuffsSet(playerBuffsSet)
  | NpcSpecialEffect(npcSpecialEffect) => Packet.NpcSpecialEffect(npcSpecialEffect)
  | ChestUnlock(chestUnlock) => Packet.ChestUnlock(chestUnlock)
  | NpcBuffAdd(npcBuffAdd) => Packet.NpcBuffAdd(npcBuffAdd)
  | NpcBuffUpdate(npcBuffUpdate) => Packet.NpcBuffUpdate(npcBuffUpdate)
  | PlayerBuffAdd(playerBuffAdd) => Packet.PlayerBuffAdd(playerBuffAdd)
  | NpcNameUpdate(npcNameUpdate) => Packet.NpcNameUpdate(npcNameUpdate)
  | GoodEvilUpdate(goodEvilUpdate) => Packet.GoodEvilUpdate(goodEvilUpdate)
  | HarpPlay(harpPlay) => Packet.HarpPlay(harpPlay)
  | SwitchHit(switchHit) => Packet.SwitchHit(switchHit)
  | NpcHomeUpdate(npcHomeUpdate) => Packet.NpcHomeUpdate(npcHomeUpdate)
  | BossOrInvasionSpawn(bossOrInvasionSpawn) => Packet.BossOrInvasionSpawn(bossOrInvasionSpawn)
  | PlayerDodge(playerDodge) => Packet.PlayerDodge(playerDodge)
  | PaintTile(paintTile) => Packet.PaintTile(paintTile)
  | PaintWall(paintWall) => Packet.PaintWall(paintWall)
  | Teleport(teleport) => Packet.Teleport(teleport)
  | PlayerHealOther(playerHealOther) => Packet.PlayerHealOther(playerHealOther)
  | DimensionsUpdate(dimensionsUpdate) => Packet.DimensionsUpdate(dimensionsUpdate)
  | ClientUuid(clientUuid) => Packet.ClientUuid(clientUuid)
  | ChestName(chestName) => Packet.ChestName(chestName)
  | CatchNpc(catchNpc) => Packet.CatchNpc(catchNpc)
  | ReleaseNpc(releaseNpc) => Packet.ReleaseNpc(releaseNpc)
  | TravellingMerchantInventory(travellingMerchantInventory) => Packet.TravellingMerchantInventory(travellingMerchantInventory)
  | TeleportationPotion(teleportationPotion) => Packet.TeleportationPotion(teleportationPotion)
  | AnglerQuest(anglerQuest) => Packet.AnglerQuest(anglerQuest)
  | AnglerQuestComplete(anglerQuestComplete) => Packet.AnglerQuestComplete(anglerQuestComplete)
  | AnglerQuestsCompletedAmount(anglerQuestsCompletedAmount) => Packet.AnglerQuestsCompletedAmount(anglerQuestsCompletedAmount)
  | TemporaryAnimationCreate(temporaryAnimationCreate) => Packet.TemporaryAnimationCreate(temporaryAnimationCreate)
  | InvasionProgressReport(invasionProgressReport) => Packet.InvasionProgressReport(invasionProgressReport)
  | ObjectPlace(objectPlace) => Packet.ObjectPlace(objectPlace)
  | PlayerChestIndexSync(playerChestIndexSync) => Packet.PlayerChestIndexSync(playerChestIndexSync)
  | CombatNumberCreate(combatNumberCreate) => Packet.CombatNumberCreate(combatNumberCreate)
  | NetModuleLoad(netModuleLoad) => Packet.NetModuleLoad(netModuleLoad)
  | NpcKillCount(npcKillCount) => Packet.NpcKillCount(npcKillCount)
  | PlayerStealth(playerStealth) => Packet.PlayerStealth(playerStealth)
  | ItemForceIntoNearestChest(itemForceIntoNearestChest) => Packet.ItemForceIntoNearestChest(itemForceIntoNearestChest)
  | TileEntityUpdate(tileEntityUpdate) => Packet.TileEntityUpdate(tileEntityUpdate)
  | TileEntityPlace(tileEntityPlace) => Packet.TileEntityPlace(tileEntityPlace)
  | ItemDropModify(itemDropModify) => Packet.ItemDropModify(itemDropModify)
  | ItemFramePlace(itemFramePlace) => Packet.ItemFramePlace(itemFramePlace)
  | ItemDropInstancedUpdate(itemDropInstancedUpdate) => Packet.ItemDropInstancedUpdate(itemDropInstancedUpdate)
  | EmoteBubble(emoteBubble) => Packet.EmoteBubble(emoteBubble)
  | ExtraValueSync(extraValueSync) => Packet.ExtraValueSync(extraValueSync)
  | SocialHandshake(socialHandshake) => Packet.SocialHandshake(socialHandshake)
  | Unused(unused) => Packet.Unused(unused)
  | PortalKill(portalKill) => Packet.PortalKill(portalKill)
  | PlayerTeleportPortal(playerTeleportPortal) => Packet.PlayerTeleportPortal(playerTeleportPortal)
  | NpcKilledNotification(npcKilledNotification) => Packet.NpcKilledNotification(npcKilledNotification)
  | EventNotification(eventNotification) => Packet.EventNotification(eventNotification)
  | MinionTargetUpdate(minionTargetUpdate) => Packet.MinionTargetUpdate(minionTargetUpdate)
  | NpcTeleportPortal(npcTeleportPortal) => Packet.NpcTeleportPortal(npcTeleportPortal)
  | ShieldStrengthsUpdate(shieldStrengthsUpdate) => Packet.ShieldStrengthsUpdate(shieldStrengthsUpdate)
  | NebulaLevelUp(nebulaLevelUp) => Packet.NebulaLevelUp(nebulaLevelUp)
  | MoonLordCountdown(moonLordCountdown) => Packet.MoonLordCountdown(moonLordCountdown)
  | NpcShopItem(npcShopItem) => Packet.NpcShopItem(npcShopItem)
  | GemLockToggle(gemLockToggle) => Packet.GemLockToggle(gemLockToggle)
  | SmokePoof(smokePoof) => Packet.SmokePoof(smokePoof)
  | ChatMessageSmart(chatMessageSmart) => Packet.ChatMessageSmart(chatMessageSmart)
  | WiredCannonShot(wiredCannonShot) => Packet.WiredCannonShot(wiredCannonShot)
  | MassWireOperation(massWireOperation) => Packet.MassWireOperation(massWireOperation)
  | MassWireOperationPay(massWireOperationPay) => Packet.MassWireOperationPay(massWireOperationPay)
  | PartyToggle(partyToggle) => Packet.PartyToggle(partyToggle)
  | TreeGrowFx(treeGrowFx) => Packet.TreeGrowFx(treeGrowFx)
  | CrystalInvasionStart(crystalInvasionStart) => Packet.CrystalInvasionStart(crystalInvasionStart)
  | CrystalInvasionWipeAll(crystalInvasionWipeAll) => Packet.CrystalInvasionWipeAll(crystalInvasionWipeAll)
  | MinionAttackTargetUpdate(minionAttackTargetUpdate) => Packet.MinionAttackTargetUpdate(minionAttackTargetUpdate)
  | CrystalInvasionSendWaitTime(crystalInvasionSendWaitTime) => Packet.CrystalInvasionSendWaitTime(crystalInvasionSendWaitTime)
  | PlayerDamage(playerDamage) => Packet.PlayerDamage(playerDamage)
  | PlayerDeath(playerDeath) => Packet.PlayerDeath(playerDeath)
  | CombatTextCreate(combatTextCreate) => Packet.CombatTextCreate(combatTextCreate)
  | Emoji(emoji) => Packet.Emoji(emoji)
  | TileEntityDisplayDollItemSync(tileEntityDisplayDollItemSync) => Packet.TileEntityDisplayDollItemSync(tileEntityDisplayDollItemSync)
  | TileEntityInteractionRequest(tileEntityInteractionRequest) => Packet.TileEntityInteractionRequest(tileEntityInteractionRequest)
  | WeaponsRackTryPlacing(weaponsRackTryPlacing) => Packet.WeaponsRackTryPlacing(weaponsRackTryPlacing)
  | TileEntityHatRackItemSync(tileEntityHatRackItemSync) => Packet.TileEntityHatRackItemSync(tileEntityHatRackItemSync)
  | TilePickingSync(tilePickingSync) => Packet.TilePickingSync(tilePickingSync)
  | RevengeMarkerSync(revengeMarkerSync) => Packet.RevengeMarkerSync(revengeMarkerSync)
  | RevengeMarkerRemove(revengeMarkerRemove) => Packet.RevengeMarkerRemove(revengeMarkerRemove)
  | GolfBallLandInCup(golfBallLandInCup) => Packet.GolfBallLandInCup(golfBallLandInCup)
  | ClientFinishConnectingToServer(clientFinishConnectingToServer) => Packet.ClientFinishConnectingToServer(clientFinishConnectingToServer)
  | NpcFishOut(npcFishOut) => Packet.NpcFishOut(npcFishOut)
  | NpcTamper(npcTamper) => Packet.NpcTamper(npcTamper)
  | LegacySoundPlay(legacySoundPlay) => Packet.LegacySoundPlay(legacySoundPlay)
  | FoodPlatterTryPlacing(foodPlatterTryPlacing) => Packet.FoodPlatterTryPlacing(foodPlatterTryPlacing)
  | PlayerLuckFactorsUpdate(playerLuckFactorsUpdate) => Packet.PlayerLuckFactorsUpdate(playerLuckFactorsUpdate)
  | PlayerDead(playerDead) => Packet.PlayerDead(playerDead)
  | CavernMonsterTypeSync(cavernMonsterTypeSync) => Packet.CavernMonsterTypeSync(cavernMonsterTypeSync)
  | NpcBuffRemovalRequest(npcBuffRemovalRequest) => Packet.NpcBuffRemovalRequest(npcBuffRemovalRequest)
  | ClientSyncedInventory(clientSyncedInventory) => Packet.ClientSyncedInventory(clientSyncedInventory)
  | CountsAsHostForGameplaySet(countsAsHostForGameplaySet) => Packet.CountsAsHostForGameplaySet(countsAsHostForGameplaySet)
  }
}

let convertFromLatest = (packet: Packet.t, fromServer: bool): option<t> => {
  switch packet {
  | Packet.ConnectRequest(connectRequest) => Some(ConnectRequest(connectRequest))
  | Packet.Disconnect(disconnect) => Some(Disconnect(disconnect))
  | Packet.PlayerSlotSet(playerSlotSet) => Some(PlayerSlotSet(playerSlotSet))
  | Packet.PlayerInfo(playerInfo) => Some(PlayerInfo(playerInfo))
  | Packet.PlayerInventorySlot(playerInventorySlot) => Some(PlayerInventorySlot(playerInventorySlot))
  | Packet.WorldDataRequest(worldDataRequest) => Some(WorldDataRequest(worldDataRequest))
  | Packet.WorldInfo(worldInfo) => Some(WorldInfo(worldInfo))
  | Packet.InitialTileSectionsRequest(initialTileSectionsRequest) => Some(InitialTileSectionsRequest(initialTileSectionsRequest))
  | Packet.Status(status) => Some(Status(status))
  | Packet.TileSectionSend(tileSectionSend) => Some(TileSectionSend(tileSectionSend))
  | Packet.TileSectionFrame(tileSectionFrame) => Some(TileSectionFrame(tileSectionFrame))
  | Packet.PlayerSpawn(playerSpawn) => Some(PlayerSpawn(playerSpawn))
  | Packet.PlayerUpdate(playerUpdate) => Some(PlayerUpdate(playerUpdate))
  | Packet.PlayerActive(playerActive) => Some(PlayerActive(playerActive))
  | Packet.PlayerHealth(playerHealth) => Some(PlayerHealth(playerHealth))
  | Packet.TileModify(tileModify) => Some(TileModify(tileModify))
  | Packet.TimeSet(timeSet) => Some(TimeSet(timeSet))
  | Packet.DoorUse(doorUse) => Some(DoorUse(doorUse))
  | Packet.TileSquareSend(tileSquareSend) => TileSquareSend.fromLatest(tileSquareSend)->Belt.Option.map(p => TileSquareSend(p))
  | Packet.ItemDropUpdate(itemDropUpdate) => Some(ItemDropUpdate(itemDropUpdate))
  | Packet.ItemOwner(itemOwner) => Some(ItemOwner(itemOwner))
  | Packet.NpcUpdate(npcUpdate) => Some(NpcUpdate(npcUpdate))
  | Packet.NpcItemStrike(npcItemStrike) => Some(NpcItemStrike(npcItemStrike))
  | Packet.ProjectileSync(projectileSync) => Some(ProjectileSync(projectileSync))
  | Packet.NpcStrike(npcStrike) => Some(NpcStrike(npcStrike))
  | Packet.ProjectileDestroy(projectileDestroy) => Some(ProjectileDestroy(projectileDestroy))
  | Packet.PvpToggle(pvpToggle) => Some(PvpToggle(pvpToggle))
  | Packet.ChestOpen(chestOpen) => Some(ChestOpen(chestOpen))
  | Packet.ChestItem(chestItem) => Some(ChestItem(chestItem))
  | Packet.ActiveContainerSync(activeContainerSync) => Some(ActiveContainerSync(activeContainerSync))
  | Packet.ChestPlace(chestPlace) => Some(ChestPlace(chestPlace))
  | Packet.HealEffect(healEffect) => Some(HealEffect(healEffect))
  | Packet.Zones(zones) => Some(Zones(zones))
  | Packet.PasswordRequired(passwordRequired) => Some(PasswordRequired(passwordRequired))
  | Packet.PasswordSend(passwordSend) => Some(PasswordSend(passwordSend))
  | Packet.ItemOwnerRemove(itemOwnerRemove) => Some(ItemOwnerRemove(itemOwnerRemove))
  | Packet.NpcTalk(npcTalk) => Some(NpcTalk(npcTalk))
  | Packet.PlayerAnimation(playerAnimation) => Some(PlayerAnimation(playerAnimation))
  | Packet.PlayerMana(playerMana) => Some(PlayerMana(playerMana))
  | Packet.ManaEffect(manaEffect) => Some(ManaEffect(manaEffect))
  | Packet.PlayerTeam(playerTeam) => Some(PlayerTeam(playerTeam))
  | Packet.SignRead(signRead) => Some(SignRead(signRead))
  | Packet.SignNew(signNew) => Some(SignNew(signNew))
  | Packet.LiquidSet(liquidSet) => Some(LiquidSet(liquidSet))
  | Packet.PlayerSpawnSelf(playerSpawnSelf) => Some(PlayerSpawnSelf(playerSpawnSelf))
  | Packet.PlayerBuffsSet(playerBuffsSet) => Some(PlayerBuffsSet(playerBuffsSet))
  | Packet.NpcSpecialEffect(npcSpecialEffect) => Some(NpcSpecialEffect(npcSpecialEffect))
  | Packet.ChestUnlock(chestUnlock) => Some(ChestUnlock(chestUnlock))
  | Packet.NpcBuffAdd(npcBuffAdd) => Some(NpcBuffAdd(npcBuffAdd))
  | Packet.NpcBuffUpdate(npcBuffUpdate) => Some(NpcBuffUpdate(npcBuffUpdate))
  | Packet.PlayerBuffAdd(playerBuffAdd) => Some(PlayerBuffAdd(playerBuffAdd))
  | Packet.NpcNameUpdate(npcNameUpdate) => Some(NpcNameUpdate(npcNameUpdate))
  | Packet.GoodEvilUpdate(goodEvilUpdate) => Some(GoodEvilUpdate(goodEvilUpdate))
  | Packet.HarpPlay(harpPlay) => Some(HarpPlay(harpPlay))
  | Packet.SwitchHit(switchHit) => Some(SwitchHit(switchHit))
  | Packet.NpcHomeUpdate(npcHomeUpdate) => Some(NpcHomeUpdate(npcHomeUpdate))
  | Packet.BossOrInvasionSpawn(bossOrInvasionSpawn) => Some(BossOrInvasionSpawn(bossOrInvasionSpawn))
  | Packet.PlayerDodge(playerDodge) => Some(PlayerDodge(playerDodge))
  | Packet.PaintTile(paintTile) => Some(PaintTile(paintTile))
  | Packet.PaintWall(paintWall) => Some(PaintWall(paintWall))
  | Packet.Teleport(teleport) => Some(Teleport(teleport))
  | Packet.PlayerHealOther(playerHealOther) => Some(PlayerHealOther(playerHealOther))
  | Packet.DimensionsUpdate(dimensionsUpdate) => Some(DimensionsUpdate(dimensionsUpdate))
  | Packet.ClientUuid(clientUuid) => Some(ClientUuid(clientUuid))
  | Packet.ChestName(chestName) => Some(ChestName(chestName))
  | Packet.CatchNpc(catchNpc) => Some(CatchNpc(catchNpc))
  | Packet.ReleaseNpc(releaseNpc) => Some(ReleaseNpc(releaseNpc))
  | Packet.TravellingMerchantInventory(travellingMerchantInventory) => Some(TravellingMerchantInventory(travellingMerchantInventory))
  | Packet.TeleportationPotion(teleportationPotion) => Some(TeleportationPotion(teleportationPotion))
  | Packet.AnglerQuest(anglerQuest) => Some(AnglerQuest(anglerQuest))
  | Packet.AnglerQuestComplete(anglerQuestComplete) => Some(AnglerQuestComplete(anglerQuestComplete))
  | Packet.AnglerQuestsCompletedAmount(anglerQuestsCompletedAmount) => Some(AnglerQuestsCompletedAmount(anglerQuestsCompletedAmount))
  | Packet.TemporaryAnimationCreate(temporaryAnimationCreate) => Some(TemporaryAnimationCreate(temporaryAnimationCreate))
  | Packet.InvasionProgressReport(invasionProgressReport) => Some(InvasionProgressReport(invasionProgressReport))
  | Packet.ObjectPlace(objectPlace) => Some(ObjectPlace(objectPlace))
  | Packet.PlayerChestIndexSync(playerChestIndexSync) => Some(PlayerChestIndexSync(playerChestIndexSync))
  | Packet.CombatNumberCreate(combatNumberCreate) => Some(CombatNumberCreate(combatNumberCreate))
  | Packet.NetModuleLoad(netModuleLoad) => Some(NetModuleLoad(netModuleLoad))
  | Packet.NpcKillCount(npcKillCount) => Some(NpcKillCount(npcKillCount))
  | Packet.PlayerStealth(playerStealth) => Some(PlayerStealth(playerStealth))
  | Packet.ItemForceIntoNearestChest(itemForceIntoNearestChest) => Some(ItemForceIntoNearestChest(itemForceIntoNearestChest))
  | Packet.TileEntityUpdate(tileEntityUpdate) => Some(TileEntityUpdate(tileEntityUpdate))
  | Packet.TileEntityPlace(tileEntityPlace) => Some(TileEntityPlace(tileEntityPlace))
  | Packet.ItemDropModify(itemDropModify) => Some(ItemDropModify(itemDropModify))
  | Packet.ItemFramePlace(itemFramePlace) => Some(ItemFramePlace(itemFramePlace))
  | Packet.ItemDropInstancedUpdate(itemDropInstancedUpdate) => Some(ItemDropInstancedUpdate(itemDropInstancedUpdate))
  | Packet.EmoteBubble(emoteBubble) => Some(EmoteBubble(emoteBubble))
  | Packet.ExtraValueSync(extraValueSync) => Some(ExtraValueSync(extraValueSync))
  | Packet.SocialHandshake(socialHandshake) => Some(SocialHandshake(socialHandshake))
  | Packet.Unused(unused) => Some(Unused(unused))
  | Packet.PortalKill(portalKill) => Some(PortalKill(portalKill))
  | Packet.PlayerTeleportPortal(playerTeleportPortal) => Some(PlayerTeleportPortal(playerTeleportPortal))
  | Packet.NpcKilledNotification(npcKilledNotification) => Some(NpcKilledNotification(npcKilledNotification))
  | Packet.EventNotification(eventNotification) => Some(EventNotification(eventNotification))
  | Packet.MinionTargetUpdate(minionTargetUpdate) => Some(MinionTargetUpdate(minionTargetUpdate))
  | Packet.NpcTeleportPortal(npcTeleportPortal) => Some(NpcTeleportPortal(npcTeleportPortal))
  | Packet.ShieldStrengthsUpdate(shieldStrengthsUpdate) => Some(ShieldStrengthsUpdate(shieldStrengthsUpdate))
  | Packet.NebulaLevelUp(nebulaLevelUp) => Some(NebulaLevelUp(nebulaLevelUp))
  | Packet.MoonLordCountdown(moonLordCountdown) => Some(MoonLordCountdown(moonLordCountdown))
  | Packet.NpcShopItem(npcShopItem) => Some(NpcShopItem(npcShopItem))
  | Packet.GemLockToggle(gemLockToggle) => Some(GemLockToggle(gemLockToggle))
  | Packet.SmokePoof(smokePoof) => Some(SmokePoof(smokePoof))
  | Packet.ChatMessageSmart(chatMessageSmart) => Some(ChatMessageSmart(chatMessageSmart))
  | Packet.WiredCannonShot(wiredCannonShot) => Some(WiredCannonShot(wiredCannonShot))
  | Packet.MassWireOperation(massWireOperation) => Some(MassWireOperation(massWireOperation))
  | Packet.MassWireOperationPay(massWireOperationPay) => Some(MassWireOperationPay(massWireOperationPay))
  | Packet.PartyToggle(partyToggle) => Some(PartyToggle(partyToggle))
  | Packet.TreeGrowFx(treeGrowFx) => Some(TreeGrowFx(treeGrowFx))
  | Packet.CrystalInvasionStart(crystalInvasionStart) => Some(CrystalInvasionStart(crystalInvasionStart))
  | Packet.CrystalInvasionWipeAll(crystalInvasionWipeAll) => Some(CrystalInvasionWipeAll(crystalInvasionWipeAll))
  | Packet.MinionAttackTargetUpdate(minionAttackTargetUpdate) => Some(MinionAttackTargetUpdate(minionAttackTargetUpdate))
  | Packet.CrystalInvasionSendWaitTime(crystalInvasionSendWaitTime) => Some(CrystalInvasionSendWaitTime(crystalInvasionSendWaitTime))
  | Packet.PlayerDamage(playerDamage) => Some(PlayerDamage(playerDamage))
  | Packet.PlayerDeath(playerDeath) => Some(PlayerDeath(playerDeath))
  | Packet.CombatTextCreate(combatTextCreate) => Some(CombatTextCreate(combatTextCreate))
  | Packet.Emoji(emoji) => Some(Emoji(emoji))
  | Packet.TileEntityDisplayDollItemSync(tileEntityDisplayDollItemSync) => Some(TileEntityDisplayDollItemSync(tileEntityDisplayDollItemSync))
  | Packet.TileEntityInteractionRequest(tileEntityInteractionRequest) => Some(TileEntityInteractionRequest(tileEntityInteractionRequest))
  | Packet.WeaponsRackTryPlacing(weaponsRackTryPlacing) => Some(WeaponsRackTryPlacing(weaponsRackTryPlacing))
  | Packet.TileEntityHatRackItemSync(tileEntityHatRackItemSync) => Some(TileEntityHatRackItemSync(tileEntityHatRackItemSync))
  | Packet.TilePickingSync(tilePickingSync) => Some(TilePickingSync(tilePickingSync))
  | Packet.RevengeMarkerSync(revengeMarkerSync) => Some(RevengeMarkerSync(revengeMarkerSync))
  | Packet.RevengeMarkerRemove(revengeMarkerRemove) => Some(RevengeMarkerRemove(revengeMarkerRemove))
  | Packet.GolfBallLandInCup(golfBallLandInCup) => Some(GolfBallLandInCup(golfBallLandInCup))
  | Packet.ClientFinishConnectingToServer(clientFinishConnectingToServer) => Some(ClientFinishConnectingToServer(clientFinishConnectingToServer))
  | Packet.NpcFishOut(npcFishOut) => Some(NpcFishOut(npcFishOut))
  | Packet.NpcTamper(npcTamper) => Some(NpcTamper(npcTamper))
  | Packet.LegacySoundPlay(legacySoundPlay) => Some(LegacySoundPlay(legacySoundPlay))
  | Packet.FoodPlatterTryPlacing(foodPlatterTryPlacing) => Some(FoodPlatterTryPlacing(foodPlatterTryPlacing))
  | Packet.PlayerLuckFactorsUpdate(playerLuckFactorsUpdate) => Some(PlayerLuckFactorsUpdate(playerLuckFactorsUpdate))
  | Packet.PlayerDead(playerDead) => Some(PlayerDead(playerDead))
  | Packet.CavernMonsterTypeSync(cavernMonsterTypeSync) => Some(CavernMonsterTypeSync(cavernMonsterTypeSync))
  | Packet.NpcBuffRemovalRequest(npcBuffRemovalRequest) => Some(NpcBuffRemovalRequest(npcBuffRemovalRequest))
  | Packet.ClientSyncedInventory(clientSyncedInventory) => Some(ClientSyncedInventory(clientSyncedInventory))
  | Packet.CountsAsHostForGameplaySet(countsAsHostForGameplaySet) => Some(CountsAsHostForGameplaySet(countsAsHostForGameplaySet))
  }
}
